(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{94309:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/home",function(){return c(92086)}])},12050:function(a,b,c){"use strict";c.d(b,{U:function(){return f}});var d=c(85893),e=c(86010);function f(a){var b,c=a.label,f=a.inputId,g=a.inputValue,h=a.inputLimit,i=a.useTextArea,j=a.errorMessage,k=a.handleChange,l=a.handleKeyboardShortcut,m=null!==(b=null==g?void 0:g.slice(0,h))&& void 0!==b?b:"",n=m.length,o=h&&n>h;return(0,d.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,d.jsxs)("div",{className:(0,e.Z)("relative rounded ring-1 transition-shadow duration-200",j?"ring-accent-red":"ring-light-line-reply focus-within:ring-2 \n                 focus-within:!ring-main-accent dark:ring-dark-border"),children:[i?(0,d.jsx)("textarea",{className:"peer mt-6 w-full resize-none bg-inherit px-3 pb-1 placeholder-transparent outline-none transition",id:f,placeholder:f,onChange:o?void 0:k,onKeyUp:l,value:m,rows:3}):(0,d.jsx)("input",{className:"peer mt-6 w-full bg-inherit px-3 pb-1 placeholder-transparent outline-none transition",id:f,type:"text",placeholder:f,onChange:o?void 0:k,value:m,onKeyUp:l}),(0,d.jsx)("label",{className:(0,e.Z)("group-peer absolute left-3 translate-y-1 bg-main-background text-sm\n             text-light-secondary transition-all peer-placeholder-shown:translate-y-3\n             peer-placeholder-shown:text-lg peer-focus:translate-y-1 peer-focus:text-sm\n             dark:text-dark-secondary",j?"!text-accent-red peer-focus:text-accent-red":"peer-focus:text-main-accent"),htmlFor:f,children:c}),h&&(0,d.jsxs)("span",{className:(0,e.Z)("absolute right-3 top-0 translate-y-1 text-sm text-light-secondary transition-opacity \n               duration-200 peer-focus:visible peer-focus:opacity-100 dark:text-dark-secondary",j?"visible opacity-100":"invisible opacity-0"),children:[n," / ",h]})]}),j&&(0,d.jsx)("p",{className:"text-sm text-accent-red",children:j})]})}},94089:function(a,b,c){"use strict";c.d(b,{M:function(){return o}});var d=c(47568),e=c(29815),f=c(34051),g=c.n(f),h=c(85893),i=c(67294),j=c(12451),k=c(36100),l=c(47359),m=c(19570),n=c(83872);function o(a,b,c,f){var o,p=null!=f?f:{},q=p.initialSize,r=p.stepSize,s=p.marginBottom,t=(0,i.useState)(null!=q?q:20),u=t[0],v=t[1],w=(0,i.useState)(null),x=w[0],y=w[1],z=(0,i.useState)(!1),A=z[0],B=z[1],C=(0,i.useState)(!1),D=C[0],E=C[1],F=(0,n.K)(k.IO.apply(void 0,[a].concat((0,e.Z)((0,e.Z)(null!=b?b:[]).concat((0,e.Z)(A?[]:[(0,k.b9)(u)]))))),c),G=F.data,H=F.loading;(0,i.useEffect)(function(){B(!!x&&u>=x)},[x,u]),(0,i.useEffect)(function(){if(!A){var c;(c=(0,d.Z)(g().mark(function c(){var d;return g().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,l.BB)(k.IO.apply(void 0,[a].concat((0,e.Z)(null!=b?b:[]))));case 2:y(d=c.sent);case 4:case"end":return c.stop()}},c)})),function(){return c.apply(this,arguments)})()}},[null==G?void 0:G.length]),(0,i.useEffect)(function(){!A&&D&&v(u+(null!=r?r:20))},[D]);var I=function(){return E(!0)},J=function(){return E(!1)},K=A&&(null!==(o=null==G?void 0:G.length)&& void 0!==o?o:0)>=(null!=x?x:0),L=(0,i.useCallback)(function(){return(0,h.jsx)(j.E.div,{className:K?"hidden":"block",viewport:{margin:"0px 0px ".concat(null!=s?s:1e3,"px")},onViewportEnter:I,onViewportLeave:J,children:(0,h.jsx)(m.g,{className:"mt-5"})})},[K]);return{data:G,loading:H,LoadMore:L}}},92086:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return O}});var d=c(26042),e=c(69396),f=c(85893),g=c(67294),h=c(65820),i=c(36100),j=c(26625),k=c(94089),l=c(87570),m=c(49806),n=c(87913),o=c(585),p=c(70722),q=c(29557),r=c(47568),s=c(34051),t=c.n(s),u=c(86501),v=c(47359),w=c(82108),x=c(33040),y=c(23521),z=c(86269),A=c(14685),B=c(54266),C=c(93276),D=c(99099),E=c(3487),F=c(62365),G=[{title:"What should we call you?",description:"Your @username is unique. You can always change it later.",cancelLabel:"Skip"},{title:"Change your username?",description:"Your @username is unique. You can always change it here again.",cancelLabel:"Cancel"}];function H(a){var b=a.loading,c=a.children,d=a.available,e=a.alreadySet,g=a.changeUsername,h=a.cancelUpdateUsername,i=G[+e],j=i.title,k=i.description,l=i.cancelLabel;return(0,f.jsxs)("form",{className:"flex h-full flex-col justify-between",onSubmit:g,children:[(0,f.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,f.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,f.jsx)("i",{className:"mx-auto",children:(0,f.jsx)(F.d,{className:"h-10 w-10",iconName:"TwitterIcon"})}),(0,f.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,f.jsx)(E.V.Title,{className:"text-2xl font-bold xs:text-3xl sm:text-4xl",children:j}),(0,f.jsx)(E.V.Description,{className:"text-light-secondary dark:text-dark-secondary",children:k})]})]}),c]}),(0,f.jsxs)("div",{className:"flex flex-col gap-3 inner:py-2 inner:font-bold",children:[(0,f.jsx)(A.z,{className:"bg-light-primary text-white transition focus-visible:bg-light-primary/90 enabled:hover:bg-light-primary/90 enabled:active:bg-light-primary/80 dark:bg-light-border dark:text-light-primary dark:focus-visible:bg-light-border/90 dark:enabled:hover:bg-light-border/90 dark:enabled:active:bg-light-border/75",type:"submit",loading:b,disabled:!d,children:"Set username"}),(0,f.jsx)(A.z,{className:"border border-light-line-reply hover:bg-light-primary/10 focus-visible:bg-light-primary/10 active:bg-light-primary/20 dark:border-light-secondary dark:text-light-border dark:hover:bg-light-border/10 dark:focus-visible:bg-light-border/10 dark:active:bg-light-border/20",onClick:h,children:l})]})]})}var I=c(12050);function J(){var a,b=(0,g.useState)(!1),c=b[0],d=b[1],e=(0,g.useState)(!1),h=e[0],i=e[1],j=(0,g.useState)(!1),k=j[0],l=j[1],m=(0,g.useState)(!1),n=m[0],o=m[1],p=(0,g.useState)(""),q=p[0],s=p[1],E=(0,g.useState)(""),F=E[0],G=E[1],J=(0,w.aC)().user,K=(0,x.d)(),L=K.open,M=K.openModal,N=K.closeModal;(0,g.useEffect)(function(){var a,b=(a=(0,r.Z)(t().mark(function a(b){var c;return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,v.EJ)(b);case 2:(c=a.sent)?i(!0):(i(!1),G("This username has been taken. Please choose another."));case 4:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)});if(!n&&q.length>0&&o(!0),n){F&&G("");var c=(0,y.rh)(null==J?void 0:J.username,q);c?(i(!1),G(c)):b(q)}},[q]),(0,g.useEffect)(function(){(null==J?void 0:J.updatedAt)?d(!0):M()},[]);var O=(a=(0,r.Z)(t().mark(function a(b){return t().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(b.preventDefault(),h){a.next=3;break}return a.abrupt("return");case 3:return l(!0),a.next=6,(0,z._v)(500);case 6:return a.next=8,(0,v._S)(null==J?void 0:J.id,q);case 8:N(),l(!1),s(""),o(!1),i(!1),u.Am.success("Username updated successfully");case 14:case"end":return a.stop()}},a)})),function(b){return a.apply(this,arguments)}),P=function(){N(),c||(0,v._S)(null==J?void 0:J.id)},Q=function(a){return s(a.target.value)};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(D.u_,{modalClassName:"flex flex-col gap-6 max-w-xl bg-main-background w-full p-8 rounded-2xl h-[576px]",open:L,closeModal:P,children:(0,f.jsx)(H,{loading:k,available:h,alreadySet:c,changeUsername:O,cancelUpdateUsername:P,children:(0,f.jsx)(I.U,{label:"Username",inputId:"username",inputValue:q,errorMessage:F,handleChange:Q})})}),(0,f.jsxs)(A.z,{className:"dark-bg-tab group relative p-2 hover:bg-light-primary/10 active:bg-light-primary/20 dark:hover:bg-dark-primary/10 dark:active:bg-dark-primary/20",onClick:M,children:[(0,f.jsx)(B.e,{className:"h-5 w-5",iconName:"SparklesIcon"}),(0,f.jsx)(C.e,{tip:"Top tweets"})]})]})}var K=c(44856),L=c(5053),M=c(19570),N=c(26028);function O(){var a=(0,j.zY)().isMobile,b=(0,k.M)(l.VV,[(0,i.ar)("parent","==",null),(0,i.Xo)("createdAt","desc")],{includeUser:!0,allowNull:!0,preserve:!0}),c=b.data,m=b.loading,n=b.LoadMore;return(0,f.jsxs)(p.t,{children:[(0,f.jsx)(o.H,{title:"Home / Twitter"}),(0,f.jsx)(K.c,{useMobileSidebar:!0,title:"í™ˆ",className:"flex items-center justify-between",children:(0,f.jsx)(J,{})}),!a&&(0,f.jsx)(q.I,{}),(0,f.jsx)("section",{className:"mt-0.5 xs:mt-0",children:m?(0,f.jsx)(M.g,{className:"mt-5"}):c?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.M,{mode:"popLayout",children:c.map(function(a){return(0,g.createElement)(L.t,(0,e.Z)((0,d.Z)({},a),{key:a.id}))})}),(0,f.jsx)(n,{})]}):(0,f.jsx)(N.j,{message:"Something went wrong"})})]})}O.getLayout=function(a){return(0,f.jsx)(m.IP,{children:(0,f.jsx)(n.Z,{children:(0,f.jsx)(m.Os,{children:a})})})}}},function(a){a.O(0,[986,387,367,933,774,888,179],function(){var b;return a(a.s=94309)}),_N_E=a.O()}])